<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AURA | Audio Separation Engine</title>

    <!-- Typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&family=Fraunces:ital,wght@0,300;0,400;0,600;1,300;1,400&display=swap"
        rel="stylesheet">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link rel="stylesheet" href="style.css?v=7.0">

</head>

<body>

    <!-- Loading Curtain -->
    <div id="loader-curtain">
        <div class="loader-logo">AURA</div>
        <div class="loader-bar">
            <div class="bar-fill"></div>
        </div>
    </div>



    <!-- Global Dithering Texture -->
    <div class="dither-overlay"></div>

    <!-- LANDING VIEW -->
    <main id="view-landing" class="view active groovy-gradient-bg">

        <!-- Navigation -->
        <nav class="navbar glass-panel" style="margin: 20px; border-radius: 100px; width: calc(100% - 40px);">
            <!-- ... (Nav content kept simple/same) ... -->
            <div class="nav-container">
                <a href="#" class="brand-logo" onclick="switchView('landing')">
                    <span class="logo-mark">///</span> AURA
                </a>
                <div class="nav-desktop">
                    <a href="#features">Services</a>
                    <a href="#process">Process</a>
                    <a href="#pricing">Access</a>
                </div>
                <div class="nav-actions">
                    <button class="theme-toggle" id="theme-btn"><i class="fa-solid fa-moon"></i></button>
                    <div class="auth-buttons">
                        <button class="btn-text" onclick="toggleAuth('login')">Log In</button>
                        <button class="btn-pill" onclick="toggleAuth('signup')">Sign Up</button>
                    </div>
                    <button class="mobile-menu-btn" id="menu-btn"><i class="fa-solid fa-bars"></i></button>
                </div>
            </div>

            <!-- Mobile Menu -->
            <div class="mobile-menu">
                <a href="#features">Services</a>
                <a href="#process">Process</a>
                <a href="#pricing">Access</a>
                <hr>
                <a href="#" onclick="toggleAuth('login')">Log In</a>
                <a href="#" onclick="toggleAuth('signup')">Sign Up</a>
            </div>
        </nav>

        <!-- Interactive Hero (Enhanced Text) -->
        <section class="hero-split">
            <div class="hero-left">
                <div class="fade-in">
                    <span class="hero-badge"><i class="fa-solid fa-sparkles"></i> AURA V4.0 // QUANTUM AUDIO</span>
                </div>

                <h1 class="hero-title-split fade-in delay-1">
                    Unleash <br>
                    <span class="liquid-text">The Music</span> <br>
                    Within.
                </h1>

                <p class="hero-sub-split fade-in delay-2">
                    Deconstruct any song into its primal elements.
                    Experience <span style="color:var(--accent); font-weight:700;">crystal clear</span> vocal isolation
                    and drum separation powered by next-gen neural networks.
                </p>

                <div class="hero-actions fade-in delay-3">
                    <button class="btn-primary-glow"
                        onclick="document.getElementById('demo-section').scrollIntoView({behavior: 'smooth'})">
                        Start Splitting
                    </button>
                    <button class="btn-text-glow">
                        <i class="fa-solid fa-play"></i> Listen to Demos
                    </button>
                </div>

                <div class="hero-stats fade-in delay-4">
                    <div class="stat-item">
                        <div class="stat-num">4.0</div>
                        <div class="stat-lbl">Model Ver</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-num">99%</div>
                        <div class="stat-lbl">Accuracy</div>
                    </div>
                    <!-- Simulating Latency for Tech Vibe -->
                    <div class="stat-item">
                        <div class="stat-num">0ms</div>
                        <div class="stat-lbl">Latency</div>
                    </div>
                </div>
            </div>

            <div class="hero-right fade-in delay-2">
                <!-- 3D Glass Stack - Updated Visual -->
                <!-- 3D Glass Stack - Updated Visual -->
                <div class="glass-stack-container" id="glass-stack">
                    <div class="hero-ambient-light"></div> <!-- New Glow Backing -->
                    <div class="stack-layer layer-4 p-vocals"
                        style="background: rgba(138, 43, 226, 0.2); border: 1px solid rgba(255,255,255,0.3);">VOCALS
                    </div>
                    <div class="stack-layer layer-3 p-other"
                        style="background: rgba(50, 50, 200, 0.2); border: 1px solid rgba(255,255,255,0.2);">OTHER</div>
                    <div class="stack-layer layer-2 p-bass"
                        style="background: rgba(0, 255, 136, 0.1); border: 1px solid rgba(255,255,255,0.2);">BASS</div>
                    <div class="stack-layer layer-1 p-drums"
                        style="background: rgba(255, 0, 100, 0.1); border: 1px solid rgba(255,255,255,0.2);">DRUMS</div>
                </div>
            </div>
        </section>

        <!-- SECTION 1: SONIC ALCHEMY (Features) -->
        <div class="section-wave" style="background: var(--bg-body);">
            <div class="wave-separator">
                <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120"
                    preserveAspectRatio="none">
                    <path
                        d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z"
                        class="shape-fill"></path>
                </svg>
            </div>

            <section id="features" class="container scroll-hidden" style="margin-top: 50px;">
                <div class="section-head centered">
                    <h2 class="groovy-font">Sonic Alchemy</h2>
                    <p style="font-size: 1.2rem; margin-top: 20px;">Transmuting raw audio into pure gold stems.</p>
                </div>

                <div class="holo-grid" style="gap: 40px;">
                    <!-- Card 1 -->
                    <div class="max-card">
                        <div class="holo-icon" style="color: #ec4899;"><i class="fa-solid fa-wand-magic-sparkles"></i>
                        </div>
                        <h3>AI Sorcery</h3>
                        <p>Our neural nets don't just split audio; they dream it apart. Zero artifacts, pure magic.</p>
                    </div>
                    <!-- Card 2 -->
                    <div class="max-card">
                        <div class="holo-icon" style="color: #a855f7;"><i class="fa-solid fa-water"></i></div>
                        <h3>Liquid Flow</h3>
                        <p>Workflow so smooth it feels like water. Drag, drop, dissolve.</p>
                    </div>
                    <!-- Card 3 -->
                    <div class="max-card">
                        <div class="holo-icon" style="color: #eab308;"><i class="fa-solid fa-bolt"></i></div>
                        <h3>Instant Zap</h3>
                        <p>Powered by GPU clusters that process tracks faster than you can say "groovy".</p>
                    </div>
                </div>
            </section>
        </div>

        <!-- SECTION 2: THE FLOW (Process) -->
        <section class="section scroll-hidden" id="process" style="padding: 100px 0;">
            <div class="container">
                <div class="section-head centered">
                    <h2 class="groovy-font text-gradient">The Audio Flow</h2>
                </div>

                <div
                    style="display: flex; justify-content: space-around; flex-wrap: wrap; margin-top: 50px; text-align: center;">
                    <div class="process-step" style="flex: 1; min-width: 250px; padding: 20px;">
                        <div style="font-size: 4rem; font-weight: 800; opacity: 0.2;">01</div>
                        <h3 style="font-size: 1.5rem; margin-bottom: 10px;">Upload</h3>
                        <p>Drop your wav/mp3 into the vortex.</p>
                    </div>
                    <div class="process-step" style="flex: 1; min-width: 250px; padding: 20px;">
                        <div style="font-size: 4rem; font-weight: 800; opacity: 0.2; color: var(--accent);">02</div>
                        <h3 style="font-size: 1.5rem; margin-bottom: 10px;">Alchemy</h3>
                        <p>The system deconstructs the spectrum.</p>
                    </div>
                    <div class="process-step" style="flex: 1; min-width: 250px; padding: 20px;">
                        <div style="font-size: 4rem; font-weight: 800; opacity: 0.2;">03</div>
                        <h3 style="font-size: 1.5rem; margin-bottom: 10px;">Ascend</h3>
                        <p>Download your stems and create.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 3: VIBE CHECK (Testimonials/Social) -->
        <div class="section-wave" style="background: var(--bg-surface);">
            <div class="wave-separator" style="transform: rotate(180deg); top: -1px;">
                <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120"
                    preserveAspectRatio="none">
                    <path
                        d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z"
                        class="shape-fill" style="fill: var(--bg-body);"></path>
                </svg>
            </div>

            <section class="container scroll-hidden" style="text-align: center; margin-top: 50px;">
                <h2 class="groovy-font">Vibe Check</h2>
                <div style="display: flex; gap: 30px; overflow-x: auto; padding: 40px 0; scrollbar-width: none;">
                    <!-- Review 1 -->
                    <div class="max-card" style="min-width: 300px; text-align: left;">
                        <p style="font-size: 1.1rem; font-style: italic;">"Absolutely melted my brain. The separation is
                            cleaner than soap."</p>
                        <div style="margin-top: 20px; font-weight: 700;">- DJ Wavy</div>
                    </div>
                    <!-- Review 2 -->
                    <div class="max-card" style="min-width: 300px; text-align: left;">
                        <p style="font-size: 1.1rem; font-style: italic;">"I use this for every remix. It's an essential
                            part of my flow."</p>
                        <div style="margin-top: 20px; font-weight: 700;">- Producer X</div>
                    </div>
                    <!-- Review 3 -->
                    <div class="max-card" style="min-width: 300px; text-align: left;">
                        <p style="font-size: 1.1rem; font-style: italic;">"Enterprise grade? Check. Groovy visuals?
                            Double check."</p>
                        <div style="margin-top: 20px; font-weight: 700;">- Studio One</div>
                    </div>
                </div>
            </section>
        </div>

        <!-- SECTION 4: ACCESS (Pricing) -->
        <section id="pricing" class="section scroll-hidden" style="padding-bottom: 100px;">
            <div class="pricing-container" style="max-width: 1000px; margin: 0 auto; text-align: center;">
                <div class="section-head centered">
                    <h2 class="groovy-font">Get Access</h2>
                    <p>Choose your level of ascension.</p>
                </div>

                <!-- Toggle -->
                <div class="billing-toggle"
                    style="display: flex; justify-content: center; align-items: center; gap: 15px; margin-bottom: 50px;">
                    <span style="color: var(--text-sec); font-weight: 600;">Monthly</span>
                    <div class="toggle-switch" onclick="toggleLandingBilling()"
                        style="width: 60px; height: 30px; background: var(--bg-panel); border-radius: 30px; position: relative; cursor: pointer; border: 1px solid var(--border-color);">
                        <div id="lp-bill-knob"
                            style="width: 24px; height: 24px; background: var(--text-main); border-radius: 50%; position: absolute; top: 2px; left: 3px; transition: 0.3s ease;">
                        </div>
                    </div>
                    <span style="color: var(--text-main); font-weight: 700;">Yearly <span
                            style="color: #00ff88; font-size: 0.8rem;">(Save 20%)</span></span>
                </div>

                <!-- Pricing Grid -->
                <div class="pricing-grid"
                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 30px; padding: 0 20px;">

                    <!-- GUEST -->
                    <div class="p-card"
                        style="background: var(--bg-surface); border-radius: 20px; padding: 30px; border: 1px solid var(--border-color); text-align: left; position: relative;">
                        <h3 style="color: var(--text-sec); margin-bottom: 10px;">Guest</h3>
                        <div class="price-wrap" style="margin-bottom: 20px;">
                            <span style="font-size: 2.5rem; font-weight: 800;">Free</span>
                        </div>
                        <p style="font-size: 0.9rem; color: var(--text-sec); margin-bottom: 30px; min-height: 40px;">
                            Perfect for testing the waters.</p>
                        <button class="btn-sub" onclick="toggleAuth('signup')"
                            style="width: 100%; padding: 12px; border-radius: 10px; background: transparent; border: 1px solid var(--text-main); color: var(--text-main); font-weight: 600; cursor: pointer;">Sign
                            Up</button>
                        <ul
                            style="list-style: none; padding: 0; margin-top: 30px; color: var(--text-main); font-size: 0.9rem;">
                            <li style="margin-bottom: 12px;"><i class="fa-solid fa-check"
                                    style="color: #00ff88; margin-right: 10px;"></i> 3 Credits / Month</li>
                            <li style="margin-bottom: 12px;"><i class="fa-solid fa-check"
                                    style="color: #00ff88; margin-right: 10px;"></i> Standard Quality</li>
                            <li style="margin-bottom: 12px; opacity: 0.5;"><i class="fa-solid fa-xmark"
                                    style="margin-right: 10px;"></i> Web Player Only</li>
                        </ul>
                    </div>

                    <!-- CREATOR (Pro) -->
                    <div class="p-card pro"
                        style="background: radial-gradient(circle at top right, rgba(138, 43, 226, 0.2), var(--bg-panel)); border-radius: 20px; padding: 30px; border: 1px solid var(--accent); text-align: left; position: relative; transform: scale(1.05); box-shadow: 0 0 30px rgba(138, 43, 226, 0.15);">
                        <div
                            style="position: absolute; top: 0; right: 0; background: var(--accent); color: white; padding: 5px 15px; border-bottom-left-radius: 15px; font-weight: 700; font-size: 0.8rem;">
                            POPULAR</div>
                        <h3 style="color: var(--accent); margin-bottom: 10px;">Creator</h3>
                        <div class="price-wrap" style="margin-bottom: 20px;">
                            <span class="p-currency" style="vertical-align: top; font-size: 1.2rem;">$</span>
                            <span class="p-val" id="lp-price-pro" style="font-size: 3rem; font-weight: 800;">19</span>
                            <span class="p-period lp-period" style="color: var(--text-sec);">/mo</span>
                        </div>
                        <p style="font-size: 0.9rem; color: var(--text-sec); margin-bottom: 30px; min-height: 40px;">For
                            serious artists and remixers.</p>
                        <button class="btn-primary" onclick="toggleAuth('signup')"
                            style="width: 100%; padding: 12px; border-radius: 10px; background: var(--accent); color: white; font-weight: 700; border: none; cursor: pointer;">Get
                            Started</button>
                        <ul
                            style="list-style: none; padding: 0; margin-top: 30px; color: var(--text-main); font-size: 0.9rem;">
                            <li style="margin-bottom: 12px;"><i class="fa-solid fa-check"
                                    style="color: #00ff88; margin-right: 10px;"></i> 100 Credits / Month</li>
                            <li style="margin-bottom: 12px;"><i class="fa-solid fa-check"
                                    style="color: #00ff88; margin-right: 10px;"></i> Hi-Res WAV & FLAC</li>
                            <li style="margin-bottom: 12px;"><i class="fa-solid fa-check"
                                    style="color: #00ff88; margin-right: 10px;"></i> Commercial Rights</li>
                        </ul>
                    </div>

                    <!-- STUDIO -->
                    <div class="p-card"
                        style="background: var(--bg-surface); border-radius: 20px; padding: 30px; border: 1px solid var(--border-color); text-align: left; position: relative;">
                        <h3 style="color: white; margin-bottom: 10px;">Studio</h3>
                        <div class="price-wrap" style="margin-bottom: 20px;">
                            <span class="p-currency" style="vertical-align: top; font-size: 1.2rem;">$</span>
                            <span class="p-val" id="lp-price-studio"
                                style="font-size: 3rem; font-weight: 800;">99</span>
                            <span class="p-period lp-period" style="color: var(--text-sec);">/mo</span>
                        </div>
                        <p style="font-size: 0.9rem; color: var(--text-sec); margin-bottom: 30px; min-height: 40px;">
                            Unlimited power for labels.</p>
                        <button class="btn-sub" onclick="toggleAuth('signup')"
                            style="width: 100%; padding: 12px; border-radius: 10px; background: transparent; border: 1px solid var(--text-main); color: var(--text-main); font-weight: 600; cursor: pointer;">Join
                            Now</button>
                        <ul
                            style="list-style: none; padding: 0; margin-top: 30px; color: var(--text-main); font-size: 0.9rem;">
                            <li style="margin-bottom: 12px;"><i class="fa-solid fa-check"
                                    style="color: #00ff88; margin-right: 10px;"></i> Unlimited Stems</li>
                            <li style="margin-bottom: 12px;"><i class="fa-solid fa-check"
                                    style="color: #00ff88; margin-right: 10px;"></i> Batch Processing</li>
                            <li style="margin-bottom: 12px;"><i class="fa-solid fa-check"
                                    style="color: #00ff88; margin-right: 10px;"></i> API Access</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 5: MEGA FOOTER -->
        <footer class="mega-footer scroll-hidden" style="background: #000; padding: 80px 0; text-align: center;">
            <h2 class="groovy-font" style="opacity: 0.5;">AURA /// STEMS</h2>
            <p style="opacity: 0.3; margin-top: 20px;">Designed for the bold.</p>
            <div
                style="text-align:center; margin-top:60px; padding-top:20px; border-top:1px solid rgba(255,255,255,0.1); color:var(--text-sec);">
                &copy; 2025 Aura Audio Inc. All rights reserved.
            </div>
        </footer>

        <!-- 7. Float CTA -->
        <button class="float-cta visible" onclick="toggleAuth('signup')">
            Get Started Free <i class="fa-solid fa-arrow-right" style="margin-left:10px;"></i>
        </button>

    </main>

    <!-- APP DASHBOARD VIEW -->
    <main id="view-app" class="view hidden">
        <div class="dashboard-layout">

            <!-- Sidebar -->
            <aside class="app-sidebar expanded">
                <div class="sidebar-head">
                    <div class="app-logo">///</div>
                    <div class="user-brief clickable" onclick="navTo('settings')" title="Edit Profile">
                        <div class="user-avatar-placeholder"><i class="fa-solid fa-user"></i></div>
                        <div>
                            <div class="u-name" id="display-username">User</div>
                            <div class="u-cr"><span id="credit-count">0</span> Credits</div>
                        </div>
                    </div>
                </div>

                <nav class="sidebar-nav">
                    <button class="nav-btn active" onclick="navTo('workspace')">
                        <i class="fa-solid fa-sliders"></i> <span>Studio</span>
                    </button>
                    <button class="nav-btn" onclick="navTo('library')">
                        <i class="fa-solid fa-box-archive"></i> <span>Library</span>
                    </button>
                    <button class="nav-btn" onclick="navTo('store')">
                        <i class="fa-solid fa-bolt"></i> <span>Upgrade</span>
                    </button>
                    <button class="nav-btn" id="nav-admin" style="display:none" onclick="navTo('admin')">
                        <i class="fa-solid fa-lock"></i> <span>Admin</span>
                    </button>
                </nav>

                <div class="sidebar-foot">
                    <button class="nav-btn logout" onclick="logout()">
                        <i class="fa-solid fa-arrow-right-from-bracket"></i> <span>Logout</span>
                    </button>
                </div>
            </aside>

            <!-- Main Workspace -->
            <div class="app-content">

                <!-- PANE: WORKSPACE -->
                <div id="pane-workspace" class="pane active">
                    <header class="pane-header">
                        <h1>Studio Workspace</h1>
                    </header>

                    <!-- State: Drop Zone -->
                    <div id="ws-drop" class="workspace-center">
                        <div class="drop-target" id="drop-zone">
                            <div class="input-tabs">
                                <button class="tab-btn active" onclick="switchInput('file')">File Upload</button>
                                <button class="tab-btn" onclick="switchInput('youtube')">YouTube URL</button>
                            </div>

                            <!-- File View -->
                            <div id="view-file" class="view-section">
                                <div style="margin-bottom:20px; color:var(--text-main); font-size:3rem; opacity:0.8;">
                                    <i class="fa-solid fa-cloud-arrow-up"></i>
                                </div>
                                <h3 style="font-size:1.5rem; margin-bottom:10px; font-weight:600;">Upload Master</h3>
                                <p style="color:var(--text-sec); margin-bottom:30px; font-size:0.9rem;">WAV, FLAC, MP3,
                                    AIFF</p>
                                <button class="btn-primary" onclick="document.getElementById('file-input').click()"
                                    style="width:100%; padding: 14px; border-radius:14px; background:var(--text-main); color:var(--bg-body); font-weight:700;">
                                    Browse Files
                                </button>
                                <input type="file" id="file-input" hidden accept="audio/*">
                            </div>

                            <!-- Youtube View (LOCKED) -->
                            <div id="view-youtube" class="view-section hidden"
                                style="position: relative; opacity: 0.5; pointer-events: none;">
                                <div
                                    style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 10; background: var(--accent); color: #fff; padding: 10px 20px; border-radius: 20px; font-weight: 800; box-shadow: 0 10px 30px rgba(0,0,0,0.5);">
                                    COMING SOON
                                </div>
                                <div style="margin-bottom:20px; color:#f00; font-size:3rem; opacity:0.8;">
                                    <i class="fa-brands fa-youtube"></i>
                                </div>
                                <h3 style="font-size:1.5rem; margin-bottom:20px; font-weight:600;">YouTube Import</h3>
                                <div class="hero-input-group">
                                    <input type="text" id="yt-url-input" class="hero-input"
                                        placeholder="Paste YouTube Link...">
                                    <button class="hero-btn">Split</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Job Dashboard (Active/Recent) -->
                    <div id="dashboard-jobs" class="job-dashboard hidden">
                        <h3 class="dash-title">Active Projects</h3>
                        <div id="job-list" class="job-list-grid">
                            <!-- Populated by JS -->
                        </div>
                    </div>

                    <!-- State: Loading / Processing -->
                    <div id="ws-loading" class="workspace-center hidden">
                        <!-- Visualizer Ring -->
                        <div class="processing-orb">
                            <div class="orb-ring"></div>
                            <div class="orb-core"></div>
                            <div class="orb-waves"></div>
                        </div>

                        <!-- Main Status -->
                        <h2 id="loading-title">Initializing...</h2>
                        <div id="process-timer"
                            style="font-family:monospace; font-size:1.5rem; color:var(--accent); margin:10px 0;">00:00
                        </div>

                        <!-- Progress Container (For Uploads) -->
                        <div id="upload-progress-container" class="progress-wrap hidden">
                            <div class="progress-track">
                                <div class="progress-fill" id="upload-bar" style="width: 0%"></div>
                            </div>
                            <div class="progress-text">Uploading: <span id="upload-percent">0%</span></div>
                        </div>

                        <!-- Processing Steps (Simulated Terminal) -->
                        <div id="processing-log" class="status-log">
                            <div class="log-item active">Connecting to Neural Engine...</div>
                        </div>

                        <!-- 40 Features Dashboard (Visual Flavor) -->
                        <div class="features-grid"
                            style="display:grid; grid-template-columns: repeat(4, 1fr); gap:10px; margin-top:30px; opacity:0.6; transform:scale(0.9);">
                            <div class="f-pill"><i class="fa-solid fa-wave-square"></i> Phase Correction</div>
                            <div class="f-pill"><i class="fa-solid fa-wand-magic-sparkles"></i> Denoising</div>
                            <div class="f-pill"><i class="fa-solid fa-layer-group"></i> 4-Stem Model</div>
                            <div class="f-pill"><i class="fa-solid fa-bolt"></i> GPU Accel</div>
                            <div class="f-pill"><i class="fa-solid fa-stopwatch"></i> Float32</div>
                            <div class="f-pill"><i class="fa-solid fa-database"></i> Auto-Save</div>
                            <div class="f-pill"><i class="fa-solid fa-sliders"></i> Normalization</div>
                            <div class="f-pill"><i class="fa-solid fa-filter"></i> De-Mudding</div>
                        </div>
                    </div>

                    <!-- State: Mixer -->
                    <div id="ws-mixer" class="hidden">

                        <!-- Header Bar -->
                        <div class="mixer-header"
                            style="display:flex; justify-content:space-between; align-items:center; margin-bottom:30px;">
                            <h2 id="project-title" style="margin:0; font-size:1.4rem;">Project Name</h2>
                            <div style="display:flex; gap:10px;">
                                <button id="btn-zip-download" class="btn-pill small">
                                    <i class="fa-solid fa-download"></i> ZIP
                                </button>
                                <button id="btn-close-mixer" class="btn-text"
                                    style="color:var(--text-sec); font-size:1.2rem;">
                                    <i class="fa-solid fa-xmark"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Channels Grid -->
                        <div id="mixer-channels" class="mixer-channels">
                            <!-- JS Injection -->
                        </div>

                        <!-- Floating Transport Dock -->
                        <!-- Floating Transport & Seek Dock -->
                        <div class="transport-dock-container">
                            <!-- Transport Dock -->
                            <div class="transport-dock">
                                <button id="play-btn" class="btn-circle play-large"><i
                                        class="fa-solid fa-play"></i></button>

                                <span id="time-display" class="transport-time">00:00</span>

                                <div class="transport-seeker">
                                    <input type="range" id="seek-slider" min="0" value="0" step="0.1"
                                        style="width:100%;">
                                </div>

                                <span id="duration-display" class="transport-duration">00:00</span>

                                <!-- Master Volume -->
                                <div class="master-vol-wrap"
                                    style="display:flex; align-items:center; gap:8px; margin-left:15px;">
                                    <i class="fa-solid fa-volume-high"
                                        style="color:var(--text-sec); font-size:0.9rem;"></i>
                                    <input type="range" id="master-vol" min="0" max="1" step="0.01" value="1"
                                        style="width:80px;" title="Master Volume">
                                </div>
                                <div class="transport-sep"></div>

                                <button class="fx-btn" id="btn-spatial" onclick="toggleFX('spatial')"
                                    title="Stereo Widener"><i
                                        class="fa-solid fa-up-right-and-down-left-from-center"></i></button>
                                <button class="fx-btn" id="btn-reverb" onclick="toggleFX('reverb')"
                                    title="Space Reverb"><i class="fa-solid fa-wind"></i></button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- PANE: LIBRARY -->
                <div id="pane-library" class="pane hidden">
                    <header class="pane-header">
                        <h1>Library</h1>
                    </header>
                    <div class="library-grid" id="library-list">
                        <p style="padding:20px; text-align:center;">Initializing Library View...</p>
                    </div>
                </div>

                <!-- PANE: STORE -->
                <div id="pane-store" class="pane hidden">
                    <div class="pricing-container" style="max-width: 1000px; margin: 0 auto; text-align: center;">

                        <!-- Header & Copy -->
                        <div style="margin-bottom: 40px; position: relative;">
                            <div
                                style="display: inline-block; background: linear-gradient(90deg, #ff00cc, #333399); padding: 5px 15px; border-radius: 20px; font-size: 0.8rem; font-weight: 800; color: white; margin-bottom: 15px; box-shadow: 0 0 15px rgba(255,0,204,0.5);">
                                <i class="fa-solid fa-fire"></i> FIRST 100 USERS: 50% OFF
                            </div>
                            <h1
                                style="font-size: 3rem; font-weight: 800; background: -webkit-linear-gradient(#fff, #aaa); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 10px;">
                                Unlock Your Sonic Potential
                            </h1>
                            <p style="color: var(--text-sec); font-size: 1.1rem; max-width: 600px; margin: 0 auto;">
                                Stop letting technology hold back your creativity. Upgrade to Aura Pro and isolate stems
                                with
                                <span style="color: var(--accent);">studio-grade precision</span> in seconds, not hours.
                            </p>
                        </div>

                        <!-- Toggle -->
                        <div class="billing-toggle"
                            style="display: flex; justify-content: center; align-items: center; gap: 15px; margin-bottom: 50px;">
                            <span style="color: var(--text-sec); font-weight: 600;">Monthly</span>
                            <div class="toggle-switch" onclick="toggleBilling()"
                                style="width: 60px; height: 30px; background: var(--bg-panel); border-radius: 30px; position: relative; cursor: pointer; border: 1px solid var(--border-color);">
                                <div id="bill-knob"
                                    style="width: 24px; height: 24px; background: var(--text-main); border-radius: 50%; position: absolute; top: 2px; left: 3px; transition: 0.3s ease;">
                                </div>
                            </div>
                            <span style="color: var(--text-main); font-weight: 700;">Yearly <span
                                    style="color: #00ff88; font-size: 0.8rem;">(Save 20%)</span></span>
                        </div>

                        <!-- Pricing Grid -->
                        <div class="pricing-grid"
                            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 30px;">

                            <!-- STARTER -->
                            <div class="p-card"
                                style="background: var(--bg-panel); border-radius: 20px; padding: 30px; border: 1px solid var(--border-color); text-align: left; position: relative; overflow: hidden;">
                                <h3 style="color: var(--text-sec); margin-bottom: 10px;">Starter</h3>
                                <div class="price-wrap" style="margin-bottom: 20px;">
                                    <span style="font-size: 2.5rem; font-weight: 800;">Free</span>
                                </div>
                                <p
                                    style="font-size: 0.9rem; color: var(--text-sec); margin-bottom: 30px; min-height: 40px;">
                                    Perfect for hobbyists and bedroom producers getting started.</p>
                                <button class="btn-sub disabled"
                                    style="width: 100%; padding: 12px; border-radius: 10px; background: rgba(255,255,255,0.1); color: var(--text-sec); font-weight: 600; border: none; cursor: default;">Current
                                    Plan</button>
                                <ul
                                    style="list-style: none; padding: 0; margin-top: 30px; color: var(--text-main); font-size: 0.9rem;">
                                    <li style="margin-bottom: 12px;"><i class="fa-solid fa-check"
                                            style="color: #00ff88; margin-right: 10px;"></i> 3 Stems per month</li>
                                    <li style="margin-bottom: 12px;"><i class="fa-solid fa-check"
                                            style="color: #00ff88; margin-right: 10px;"></i> Standard Quality</li>
                                    <li style="margin-bottom: 12px; opacity: 0.5;"><i class="fa-solid fa-xmark"
                                            style="margin-right: 10px;"></i> No Batch Processing</li>
                                </ul>
                            </div>

                            <!-- PRO (Highlighted) -->
                            <div class="p-card pro"
                                style="background: radial-gradient(circle at top right, rgba(138, 43, 226, 0.2), var(--bg-panel)); border-radius: 20px; padding: 30px; border: 1px solid var(--accent); text-align: left; position: relative; transform: scale(1.05); box-shadow: 0 0 30px rgba(138, 43, 226, 0.15);">
                                <div
                                    style="position: absolute; top: 0; right: 0; background: var(--accent); color: white; padding: 5px 15px; border-bottom-left-radius: 15px; font-weight: 700; font-size: 0.8rem;">
                                    POPULAR</div>
                                <h3 style="color: var(--accent); margin-bottom: 10px;">Pro Artist</h3>
                                <div class="price-wrap" style="margin-bottom: 20px;">
                                    <span class="p-currency" style="vertical-align: top; font-size: 1.2rem;">$</span>
                                    <span class="p-val" id="price-pro"
                                        style="font-size: 3rem; font-weight: 800;">19</span>
                                    <span class="p-period" style="color: var(--text-sec);">/mo</span>
                                </div>
                                <p
                                    style="font-size: 0.9rem; color: var(--text-sec); margin-bottom: 30px; min-height: 40px;">
                                    For serious artists who need power and speed daily.</p>
                                <button class="btn-primary" onclick="subscribe('pro')"
                                    style="width: 100%; padding: 12px; border-radius: 10px; background: var(--accent); color: white; font-weight: 700; border: none; cursor: pointer; transition: 0.2s;">Get
                                    Pro Access</button>
                                <ul
                                    style="list-style: none; padding: 0; margin-top: 30px; color: var(--text-main); font-size: 0.9rem;">
                                    <li style="margin-bottom: 12px;"><i class="fa-solid fa-check"
                                            style="color: #00ff88; margin-right: 10px;"></i> 100 Stems per month</li>
                                    <li style="margin-bottom: 12px;"><i class="fa-solid fa-check"
                                            style="color: #00ff88; margin-right: 10px;"></i> High Fidelity (Float32)
                                    </li>
                                    <li style="margin-bottom: 12px;"><i class="fa-solid fa-check"
                                            style="color: #00ff88; margin-right: 10px;"></i> Priority Processing</li>
                                </ul>
                            </div>

                            <!-- STUDIO -->
                            <div class="p-card"
                                style="background: var(--bg-panel); border-radius: 20px; padding: 30px; border: 1px solid var(--border-color); text-align: left; position: relative; overflow: hidden;">
                                <h3 style="color: white; margin-bottom: 10px;">Studio Label</h3>
                                <div class="price-wrap" style="margin-bottom: 20px;">
                                    <span class="p-currency" style="vertical-align: top; font-size: 1.2rem;">$</span>
                                    <span class="p-val" id="price-studio"
                                        style="font-size: 3rem; font-weight: 800;">99</span>
                                    <span class="p-period" style="color: var(--text-sec);">/mo</span>
                                </div>
                                <p
                                    style="font-size: 0.9rem; color: var(--text-sec); margin-bottom: 30px; min-height: 40px;">
                                    Uncapped potential for labels and power users.</p>
                                <button class="btn-sub" onclick="subscribe('studio')"
                                    style="width: 100%; padding: 12px; border-radius: 10px; background: transparent; border: 1px solid var(--text-main); color: var(--text-main); font-weight: 600; cursor: pointer;">Contact
                                    Sales</button>
                                <ul
                                    style="list-style: none; padding: 0; margin-top: 30px; color: var(--text-main); font-size: 0.9rem;">
                                    <li style="margin-bottom: 12px;"><i class="fa-solid fa-check"
                                            style="color: #00ff88; margin-right: 10px;"></i> Unlimited Stems</li>
                                    <li style="margin-bottom: 12px;"><i class="fa-solid fa-check"
                                            style="color: #00ff88; margin-right: 10px;"></i> Zero Queue Time</li>
                                    <li style="margin-bottom: 12px;"><i class="fa-solid fa-check"
                                            style="color: #00ff88; margin-right: 10px;"></i> API Access</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- PANE: ADMIN -->
                <div id="pane-admin" class="pane hidden">
                    <header class="pane-header">
                        <h1>User Database</h1>
                    </header>

                    <!-- Admin Stats Grid -->
                    <div class="admin-stats-grid"
                        style="display:grid; grid-template-columns: repeat(4, 1fr); gap:20px; margin-bottom:30px;">
                        <div class="stat-card"
                            style="background:var(--bg-panel); padding:20px; border-radius:15px; border:1px solid var(--border-color);">
                            <div style="color:var(--text-sec); font-size:0.9rem;">Total Users</div>
                            <div id="adm-total-users" style="font-size:2rem; font-weight:800; color:var(--accent);">0
                            </div>
                        </div>
                        <div class="stat-card"
                            style="background:var(--bg-panel); padding:20px; border-radius:15px; border:1px solid var(--border-color);">
                            <div style="color:var(--text-sec); font-size:0.9rem;">Active Today</div>
                            <div style="font-size:2rem; font-weight:800;">-</div>
                        </div>
                        <div class="stat-card"
                            style="background:var(--bg-panel); padding:20px; border-radius:15px; border:1px solid var(--border-color);">
                            <div style="color:var(--text-sec); font-size:0.9rem;">Total Jobs</div>
                            <div style="font-size:2rem; font-weight:800;">-</div>
                        </div>
                        <div class="stat-card"
                            style="background:var(--bg-panel); padding:20px; border-radius:15px; border:1px solid var(--border-color);">
                            <button onclick="adminCleanSystem()"
                                style="width:100%; height:100%; border:1px solid #ff4444; background:rgba(255,68,68,0.1); color:#ff4444; border-radius:10px; font-weight:bold; cursor:pointer;">
                                <i class="fa-solid fa-skull"></i> PURGE SYSTEM
                            </button>
                        </div>
                    </div>

                    <div class="table-wrap"
                        style="background:var(--bg-panel); border-radius:20px; padding:20px; border:1px solid var(--border-color);">
                        <table class="data-table" style="width:100%; border-collapse:collapse;">
                            <thead>
                                <tr
                                    style="border-bottom:1px solid var(--border-color); text-align:left; color:var(--text-sec);">
                                    <th style="padding:15px;">User</th>
                                    <th style="padding:15px;">Email</th>
                                    <th style="padding:15px;">Credits</th>
                                    <th style="padding:15px;">Plan</th>
                                    <th style="padding:15px;">Joined</th>
                                    <th style="padding:15px;">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="admin-list" style="font-size:0.95rem;"></tbody>
                        </table>
                    </div>
                </div>

                <!-- PANE: SETTINGS -->
                <div id="pane-settings" class="pane hidden">
                    <header class="pane-header">
                        <h1>Settings</h1>
                        <p>Manage your account preferences and global configuration.</p>
                    </header>

                    <div class="settings-grid">
                        <!-- Profile Card -->
                        <div class="setting-card">
                            <div class="sc-header">
                                <div class="sc-icon"><i class="fa-solid fa-user-circle"></i></div>
                                <h3>Profile</h3>
                            </div>
                            <div class="sc-body">
                                <label>Username</label>
                                <div class="input-with-icon">
                                    <i class="fa-solid fa-user"></i>
                                    <input type="text" id="set-username" class="std-input" readonly value="User">
                                </div>
                                <label>Email Address</label>
                                <div class="input-with-icon">
                                    <i class="fa-solid fa-envelope"></i>
                                    <input type="email" id="set-email" class="std-input" placeholder="user@example.com">
                                </div>

                                <label style="margin-top:20px; display:block;">Change Password</label>
                                <div class="input-with-icon">
                                    <i class="fa-solid fa-key"></i>
                                    <input type="password" id="set-old-pass" class="std-input"
                                        placeholder="Current Password">
                                </div>
                                <div class="input-with-icon" style="margin-top:10px;">
                                    <i class="fa-solid fa-lock"></i>
                                    <input type="password" id="set-new-pass" class="std-input"
                                        placeholder="New Password">
                                </div>

                                <button class="btn-outline small" onclick="updateProfile()"
                                    style="margin-top:20px;">Save
                                    Changes</button>
                            </div>
                        </div>

                        <!-- Preferences -->
                        <div class="setting-card">
                            <div class="sc-header">
                                <div class="sc-icon"><i class="fa-solid fa-sliders"></i></div>
                                <h3>Preferences</h3>
                            </div>
                            <div class="sc-body">
                                <label>Interface Language</label>
                                <select class="std-select" id="lang-select" onchange="showToast('Language updated')">
                                    <option value="en">English (US)</option>
                                    <option value="es">Espaol</option>
                                    <option value="fr">Franais</option>
                                    <option value="jp"></option>
                                    <option value="ar"></option>
                                </select>

                                <label>Theme Mode</label>
                                <div class="theme-toggles">
                                    <button class="theme-opt active" onclick="setTheme('dark')"><i
                                            class="fa-solid fa-moon"></i>
                                        Dark</button>
                                    <button class="theme-opt" onclick="setTheme('light')"><i
                                            class="fa-solid fa-sun"></i>
                                        Light</button>
                                </div>
                            </div>
                        </div>

                        <!-- Danger Zone -->
                        <div class="setting-card danger">
                            <div class="sc-header">
                                <div class="sc-icon"><i class="fa-solid fa-triangle-exclamation"></i></div>
                                <h3>Danger Zone</h3>
                            </div>
                            <div class="sc-body">
                                <p>Once you delete your account, there is no going back. Please be certain.</p>
                                <button class="btn-danger"
                                    onclick="showToast('Contact support to delete account')">Delete
                                    Account</button>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </main>

    <!-- Auth Slide-over -->
    <div class="auth-shade" id="auth-shade" onclick="closeAuth()"></div>
    <div class="auth-sidebar" id="auth-sidebar">
        <button class="auth-close" onclick="closeAuth()">&times;</button>
        <div class="auth-container">
            <h2 id="auth-title" style="text-align:center;">Welcome</h2>
            <form id="auth-form" novalidate>
                <!-- Username -->
                <div class="input-group input-with-icon">
                    <input type="text" id="auth-user" class="auth-input" placeholder="Username" required>
                    <i class="fa-solid fa-user"></i>
                </div>

                <!-- Email (Required) -->
                <div class="input-group input-with-icon" id="auth-email-group">
                    <input type="email" id="auth-email" class="auth-input" placeholder="Email Address (Required)"
                        required>
                    <i class="fa-solid fa-envelope"></i>
                </div>

                <!-- Password -->
                <div class="input-group input-with-icon">
                    <input type="password" id="auth-pass" class="auth-input" placeholder="Password" required>
                    <i class="fa-solid fa-key"></i>
                </div>

                <button type="submit" class="btn-block filled" id="auth-submit">Continue</button>
            </form>
            <div class="auth-footer" style="margin-top: 25px; text-align: center;">
                <span id="auth-msg">New?</span> <a href="#" onclick="toggleAuthMode()" id="auth-tog"
                    style="color:var(--accent); font-weight:700;">Create Account</a>
            </div>
        </div>
    </div>

    <!-- Template -->
    <template id="channel-template">
        <div class="channel-strip">
            <div class="ch-track">
                <div class="ch-icon"><i class="fa-solid fa-music"></i></div>
                <span class="ch-name">STEM</span>
            </div>

            <div class="ch-vis">
                <canvas class="ch-canvas"></canvas>
            </div>

            <div class="ch-actions">
                <div class="ch-vol-row">
                    <input type="range" class="ch-fader" min="0" max="1" step="0.01" value="1" title="Volume">
                </div>
                <div class="ch-btns-row">
                    <a href="#" class="btn-mini dl" download title="Download Stem"><i
                            class="fa-solid fa-download"></i></a>
                    <button class="btn-mini solo" title="Solo"><i class="fa-solid fa-headphones"></i></button>
                    <button class="btn-mini mute" title="Mute">M</button>
                </div>
            </div>
        </div>
    </template>

    <!-- Firebase SDKs -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js";
        import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDRWUwm06xX2ROWxTGh67ob4-ULCI_5H6g",
            authDomain: "aura-stem-splitter.firebaseapp.com",
            projectId: "aura-stem-splitter",
            storageBucket: "aura-stem-splitter.firebasestorage.app",
            messagingSenderId: "662501098658",
            appId: "1:662501098658:web:d0c22887578e7e863b03fb"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const auth = getAuth(app);
        const storage = getStorage(app);

        // Export to Global Scope for script.js
        window.firebase = {
            app,
            auth,
            storage,
            createUserWithEmailAndPassword,
            signInWithEmailAndPassword,
            signOut,
            onAuthStateChanged,
            ref,
            uploadBytes,
            getDownloadURL
        };

        console.log("Firebase Initialized: Aura v4");
    </script>
    <!-- Core Logic -->
    <script src="script.js?v=9.1"></script>
</body>

</html>